class Solution:
    def longestBalanced(self, nums: list[int]) -> int:

        l = len(nums)
        if l > 10000 or l < 1:
            return 0

        for p in nums:
            if p > 10000 or p < 1:
                return 0

        result = 0
        odd = set() # set of distinct odd numbers
        even = set() # set of distinct even numbers

        for i in range(l - 1):
            for j in range(i+1, l):
                even.clear()
                odd.clear()

                for k in nums[i:j+1]:
                    if k % 2 == 0:
                        if k not in even:
                            even.add(k)
                    else:
                        if k not in odd:
                            odd.add(k)

                if len(even) == len(odd):
                    result = max(result, j-i+1)

        print(result)
        return result

List1 = [2,5,4,3] #4
List2 = [3,2,2,5,4] #5
List3 = [1, 2, 3, 2] #3
List4 = [8, 8, 31, 42] #3
List5 = [47,12,54,54] #2
List6 = [9,20,5,11,20,20] #3
List7 = [32,210,98,22,134,55,149,7,65,259,193,154,220,162,13,169,62,273,163,167,88,198,136,24,127,165,240,111,228,126,95,82,41,76,68,186,139,71,175,30,2,4,236,80,123,205,1,273,111,21,252,30,112,272,219,219,100,29,200,138,14,286,223,134,157,193,209,218,106,195,100,37,9,278,196,85,116,265,146,155,69,228,75,50,170,268,191,189,281,174,108,259,174,117,277,280,210,35,91,98,241,185,122,213,30,14,154,236,278,240,28,83,194,282,203,9,47,72,193,235,9,43,148,96,172,253,54,94,70,249,244,168,58,47,47,84,227,72,6,229,147,126,262,34,49,143,202,185,117,130,173,47,160,154,161,18,23,211,93,9,99,274,249,129,12,72,281,88,105,176,246,7,232,102,168,103,250,167,46,89,1,119,244,42,234,101,253,276,13,241,122,19,243,201,139,190,215,87,275,219,223,51,100,84,57,249,128,196,185,37,74,129,165,123,269,41,68,3,247,286,4,197,97,137,226,123,83,194,114,18,187,206,228,258,103,173]
sol = Solution()
sol.longestBalanced(List1)
